<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ManufacturePro CRM - Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      /* Manufacturing CRM Color Palette - Consistent with other pages */
      --primary-color: rgb(255, 0, 0);
      --primary-dark: #1e3a8a;
      --primary-light: rgb(0, 0, 0);
      --secondary-color: #f59e0b;
      --accent-color: #10b981;
      --success-color: #059669;
      --warning-color: #d97706;
      --error-color: #dc2626;
      --info-color: #0284c7;
      
      /* Background & Surface Colors */
      --background-primary: #f8fafc;
      --background-secondary: #f1f5f9;
      --card-background: #ffffff;
      --sidebar-background: rgb(128, 0, 0);
      --sidebar-hover: #F3CE14;
      
      /* Text Colors */
      --text-primary: #1f2937;
      --text-secondary: #6b7280;
      --text-light: #9ca3af;
      --text-white: #ffffff;
      
      /* Border & Shadow */
      --border-color: #e5e7eb;
      --border-light: #f3f4f6;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      
      /* Gradients */
      --gradient-primary: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
      --gradient-secondary: linear-gradient(135deg, var(--secondary-color) 0%, #ea580c 100%);
      --gradient-success: linear-gradient(135deg, var(--accent-color) 0%, var(--success-color) 100%);
      --gradient-background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--background-primary);
      color: var(--text-primary);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* Container Layout */
    .container {
      display: flex;
      min-height: 100vh;
      position: relative;
    }

    /* Enhanced Sidebar - FIXED STRUCTURE */
    .sidebar {
      width: 280px;
      background: var(--sidebar-background);
      color: var(--text-white);
      height: 100vh;
      position: fixed;
      left: 0;
      top: 0;
      box-shadow: var(--shadow-xl);
      border-right: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 1000;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      flex-direction: column;
    }

    /* Sidebar Header - FIXED POSITION */
    .sidebar-header {
      position: sticky;
      top: 0;
      padding: 24px 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      background: var(--sidebar-background);
      background: linear-gradient(135deg, rgb(255, 128, 0) 0%, rgba(30, 58, 138, 0.1) 100%);
      z-index: 1001;
      flex-shrink: 0;
      backdrop-filter: blur(10px);
    }

    .sidebar h2 {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: -0.025em;
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 0;
    }

    .sidebar h2 i {
      font-size: 24px;
      color: var(--primary-light);
    }

    /* Sidebar Body - SCROLLABLE AREA */
    .sidebar-body {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* Navigation Links Container - SCROLLABLE */
    .nav-container {
      flex: 1;
      overflow-y: auto;
      overflow-x: hidden;
      padding: 16px 0;
    }

    /* Custom Scrollbar for Sidebar */
    .nav-container::-webkit-scrollbar {
      width: 6px;
    }

    .nav-container::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
    }

    .nav-container::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 3px;
    }

    .nav-container::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, 0.5);
    }

    /* Navigation Links */
    .nav-links {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .nav-links li {
      margin: 0;
      position: relative;
    }

    .nav-links li.active::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 4px;
      background: var(--primary-light);
      border-radius: 0 4px 4px 0;
    }

    .nav-links li.active {
      background: var(--sidebar-hover);
    }

    .nav-links a {
      color: var(--text-white);
      text-decoration: none;
      padding: 12px 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      font-weight: 500;
      font-size: 14px;
      position: relative;
      overflow: hidden;
    }

    .nav-links a::before {
      content: '';
      position: absolute;
      left: -100%;
      top: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
      transition: left 0.5s;
    }

    .nav-links a:hover::before {
      left: 100%;
    }

    .nav-links a:hover {
      background: var(--sidebar-hover);
      transform: translateX(4px);
      color: var(--primary-light);
    }

    .nav-links a i {
      font-size: 16px;
      width: 20px;
      text-align: center;
      color: #94a3b8;
      transition: color 0.3s ease;
      flex-shrink: 0;
    }

    .nav-links a:hover i,
    .nav-links li.active a i {
      color: var(--primary-light);
    }

    /* User Info Section - FIXED AT BOTTOM */
    .user-info {
      position: sticky;
      bottom: 0;
      padding: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      background: var(--sidebar-background);
      background: rgba(0, 0, 0, 0.2);
      z-index: 1001;
      flex-shrink: 0;
      backdrop-filter: blur(10px);
    }

    .user-info img {
      width: 100%;
      max-width: 200px;
      height: auto;
      
      box-shadow: var(--shadow-md);
    }

    /* Main Content */
    .main-content {
      margin-left: 280px;
      padding: 32px 40px;
      width: calc(100% - 280px);
      min-height: 100vh;
      background: var(--background-primary);
    }

    /* Header Section */
    .content-header {
      margin-bottom: 32px;
      padding-bottom: 24px;
      border-bottom: 2px solid var(--border-light);
    }

    .welcome-message {
      font-size: 32px;
      font-weight: 700;
      color: var(--success-color);
      text-align: center;
      margin-bottom: 8px;
      letter-spacing: -0.025em;
    }

    .page-title {
      font-size: 24px;
      font-weight: 600;
      color: var(--text-primary);
      text-align: center;
      margin-bottom: 8px;
    }

    .page-subtitle {
      font-size: 16px;
      color: var(--text-secondary);
      text-align: center;
    }

    /* Dashboard Grid */
    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 24px;
      margin-bottom: 40px;
    }

    /* Dashboard Cards */
    .dashboard-btn {
      background: var(--card-background);
      border: 1px solid var(--border-color);
      border-radius: 16px;
      padding: 24px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: var(--shadow-sm);
      position: relative;
      overflow: hidden;
      min-height: 140px;
      text-decoration: none;
      color: var(--text-primary);
    }

    .dashboard-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--gradient-primary);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .dashboard-btn:hover::before {
      transform: scaleX(1);
    }

    .dashboard-btn:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-xl);
      border-color: var(--primary-light);
    }

    .dashboard-btn i {
      font-size: 32px;
      color: var(--primary-color);
      margin-bottom: 12px;
      transition: all 0.3s ease;
    }

    .dashboard-btn:hover i {
      color: var(--primary-light);
      transform: scale(1.1);
    }

    .dashboard-btn .btn-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--text-primary);
    }

    .dashboard-btn .btn-count {
      font-size: 24px;
      font-weight: 700;
      color: var(--primary-color);
      margin-top: 8px;
    }

    .dashboard-btn small {
      font-size: 12px;
      color: var(--text-secondary);
      font-weight: 500;
    }

    /* Specific button color themes */
    .dashboard-btn[data-type="order"] i { color: var(--info-color); }
    .dashboard-btn[data-type="order"]:hover i { color: #0369a1; }
    .dashboard-btn[data-type="order"] .btn-count { color: var(--info-color); }

    .dashboard-btn[data-type="production"] i { color: var(--warning-color); }
    .dashboard-btn[data-type="production"]:hover i { color: #b45309; }
    .dashboard-btn[data-type="production"] .btn-count { color: var(--warning-color); }

    .dashboard-btn[data-type="quality"] i { color: var(--success-color); }
    .dashboard-btn[data-type="quality"]:hover i { color: #047857; }
    .dashboard-btn[data-type="quality"] .btn-count { color: var(--success-color); }

    .dashboard-btn[data-type="dispatch"] i { color: var(--error-color); }
    .dashboard-btn[data-type="dispatch"]:hover i { color: #b91c1c; }
    .dashboard-btn[data-type="dispatch"] .btn-count { color: var(--error-color); }

    /* Stats Summary */
    .stats-summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
    }

    .stat-card {
      background: var(--card-background);
      padding: 20px;
      border-radius: 12px;
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--border-color);
      text-align: center;
      transition: all 0.3s ease;
    }

    .stat-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    .stat-card h3 {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 8px;
      font-weight: 500;
    }
    .stat-card .stat-number {
      font-size: 28px;
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 4px;
    }

    .stat-card .stat-label {
      font-size: 12px;
      color: var(--text-light);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Loading Animation */
    .loading-spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 2px solid var(--border-color);
      border-radius: 50%;
      border-top-color: var(--primary-color);
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Dashboard Features */
    .dashboard-features {
      margin-top: 40px;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
    }

    .feature-card {
      background: var(--card-background);
      border: 1px solid var(--border-color);
      border-radius: 16px;
      padding: 24px;
      box-shadow: var(--shadow-sm);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .feature-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }

    .feature-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .feature-header i {
      font-size: 24px;
      color: var(--primary-color);
    }

    .feature-header h3 {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
      margin: 0;
    }

    .feature-card p {
      color: var(--text-secondary);
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .feature-btn {
      background: var(--gradient-primary);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px 20px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      position: relative;
      overflow: hidden;
    }

    .feature-btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    .feature-btn:active {
      transform: translateY(0);
    }

    /* Quick Actions */
    .quick-actions {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 1000;
    }

    .quick-actions-btn {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--gradient-primary);
      color: white;
      border: none;
      font-size: 24px;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .quick-actions-btn:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-xl);
    }

    .quick-actions-menu {
      position: absolute;
      bottom: 70px;
      right: 0;
      background: white;
      border-radius: 12px;
      box-shadow: var(--shadow-xl);
      padding: 8px;
      min-width: 200px;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.3s ease;
      pointer-events: none;
    }

    .quick-actions-menu.active {
      opacity: 1;
      transform: translateY(0);
      pointer-events: all;
    }

    .quick-action-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.2s ease;
      text-decoration: none;
      color: var(--text-primary);
    }

    .quick-action-item:hover {
      background-color: var(--background-secondary);
    }

    .quick-action-item i {
      width: 20px;
      text-align: center;
      color: var(--primary-color);
    }

    /* Loading Overlay */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .loading-overlay.active {
      opacity: 1;
      pointer-events: all;
    }

    .loading-content {
      text-align: center;
      color: var(--text-primary);
    }

    .loading-content .loading-spinner {
      width: 40px;
      height: 40px;
      border-width: 4px;
      margin-bottom: 16px;
    }

    /* Responsive Design */
    @media (max-width: 1200px) {
      .dashboard-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
      }
    }

    /* Sidebar Toggle for Mobile */
    .sidebar-toggle {
      display: none;
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 1001;
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px;
      cursor: pointer;
      box-shadow: var(--shadow-md);
    }

    @media (max-width: 768px) {
      .sidebar-toggle {
        display: block;
      }
      
      .sidebar {
        width: 70px;
        transform: translateX(-100%);
      }
      
      .sidebar.active {
        transform: translateX(0);
        width: 280px;
      }
      
      .sidebar-header {
        padding: 20px 10px;
      }
      
      .sidebar:not(.active) .sidebar h2 span {
        display: none;
      }
      
      .sidebar:not(.active) .nav-links a span {
        display: none;
      }
      
      .sidebar:not(.active) .nav-links a {
        justify-content: center;
        padding: 12px 10px;
      }
      
      .sidebar:not(.active) .nav-links a i {
        margin-right: 0;
        font-size: 18px;
      }
      
      .sidebar:not(.active) .user-info {
        padding: 15px 10px;
      }
      
      .sidebar:not(.active) .user-info img {
        max-width: 40px;
      }
      
      .main-content {
        margin-left: 0;
        width: 100%;
        padding: 80px 16px 20px 16px;
      }
      
      .dashboard-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 16px;
      }
      
      .dashboard-btn {
        padding: 20px 16px;
        min-height: 120px;
      }
      
      .dashboard-btn i {
        font-size: 28px;
      }
      
      .dashboard-btn .btn-title {
        font-size: 14px;
      }
      
      .dashboard-btn .btn-count {
        font-size: 20px;
      }
      
      .welcome-message {
        font-size: 24px;
      }
      
      .page-title {
        font-size: 20px;
      }
      
      .feature-grid {
        grid-template-columns: 1fr;
        gap: 16px;
      }
      
      .feature-card {
        padding: 20px;
      }
      
      .quick-actions {
        bottom: 20px;
        right: 20px;
      }
      
      .quick-actions-btn {
        width: 50px;
        height: 50px;
        font-size: 20px;
      }
    }

    @media (max-width: 480px) {
      .main-content {
        padding: 70px 12px 16px 12px;
      }
      
      .dashboard-grid {
        grid-template-columns: 1fr;
        gap: 12px;
      }
      
      .dashboard-btn {
        padding: 16px;
        min-height: 100px;
      }
      
      .dashboard-btn i {
        font-size: 24px;
      }
      
      .welcome-message {
        font-size: 20px;
      }
      
      .page-title {
        font-size: 18px;
      }
      
      .stats-summary {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
      }
    }

    /* Accessibility Improvements */
    .dashboard-btn:focus {
      outline: 2px solid var(--primary-color);
      outline-offset: 2px;
    }

    .nav-links a:focus {
      outline: 2px solid var(--primary-light);
      outline-offset: -2px;
    }

    /* High contrast mode support */
    @media (prefers-contrast: high) {
      :root {
        --primary-color: #000080;
        --text-primary: #000000;
        --border-color: #000000;
      }
    }

    /* Reduced motion support */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
      :root {
        --background-primary: #0f172a;
        --background-secondary: #1e293b;
        --card-background: #334155;
        --text-primary: #f8fafc;
        --text-secondary: #cbd5e1;
        --border-color: #475569;
      }
    }

    /* Print styles */
    @media print {
      .sidebar,
      .sidebar-toggle,
      .quick-actions {
        display: none;
      }
      
      .main-content {
        margin-left: 0;
        width: 100%;
      }
      
      .dashboard-btn {
        break-inside: avoid;
        box-shadow: none;
        border: 1px solid #ccc;
      }
    }

    /* Animation for page load */
    .dashboard-btn {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s ease-out forwards;
    }

    .dashboard-btn:nth-child(1) { animation-delay: 0.1s; }
    .dashboard-btn:nth-child(2) { animation-delay: 0.2s; }
    .dashboard-btn:nth-child(3) { animation-delay: 0.3s; }
    .dashboard-btn:nth-child(4) { animation-delay: 0.4s; }
    .dashboard-btn:nth-child(5) { animation-delay: 0.5s; }
    .dashboard-btn:nth-child(6) { animation-delay: 0.6s; }
    .dashboard-btn:nth-child(7) { animation-delay: 0.7s; }
    .dashboard-btn:nth-child(8) { animation-delay: 0.8s; }
    .dashboard-btn:nth-child(9) { animation-delay: 0.9s; }
    .dashboard-btn:nth-child(10) { animation-delay: 1.0s; }
    .dashboard-btn:nth-child(11) { animation-delay: 1.1s; }
    .dashboard-btn:nth-child(12) { animation-delay: 1.2s; }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Notification Badge */
    .notification-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: var(--error-color);
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    /* Tooltip */
    .tooltip {
      position: relative;
    }

    .tooltip::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: var(--text-primary);
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 12px;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
      z-index: 1000;
    }

    .tooltip:hover::after {
      opacity: 1;
    }

    /* Additional animations */
    @keyframes ripple {
      to {
        transform: scale(4);
        opacity: 0;
      }
    }

    @keyframes slideInUp {
      from {
        transform: translateY(30px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    /* Focus management */
    .dashboard-btn:focus-visible,
    .feature-btn:focus-visible,
    .quick-actions-btn:focus-visible {
      outline: 3px solid var(--primary-color);
      outline-offset: 2px;
    }
  </style>
</head>
<body>
  <!-- Sidebar Toggle Button for Mobile -->
  <button class="sidebar-toggle" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
  </button>

  <div class="container">
    <!-- Enhanced Sidebar Navigation - FIXED STRUCTURE -->
    <nav class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <h2>
          <i class="fas fa-industry"></i>
          <span>Menu</span>
        </h2>
      </div>
      
      <div class="sidebar-body">
        <div class="nav-container">
          <ul class="nav-links">
            <li class="active">
              <a href="/" class="tooltip" data-tooltip="Dashboard Home">
                <i class="fas fa-home"></i>
                <span>Dashboard</span>
              </a>
            </li>
            <li>
              <a href="/admin-settings" class="tooltip" data-tooltip="View Reports">
                <i class="fas fa-chart-bar"></i>
                <span>admin settings</span>
              </a>
            </li>
            <li>
              <a href="/search" class="tooltip" data-tooltip="Search Records">
                <i class="fas fa-search"></i>
                <span>Search</span>
              </a>
            </li>
            <li>
              <a href="/order" class="tooltip" data-tooltip="Order Management">
                <i class="fas fa-clipboard-list"></i>
                <span>Order Log</span>
              </a>
            </li>
            <li>
              <a href="/mixing" class="tooltip" data-tooltip="Mixing Department">
                <i class="fas fa-blender"></i>
                <span>Mixing</span>
              </a>
            </li>
            <li>
              <a href="/production" class="tooltip" data-tooltip="Production Management">
                <i class="fas fa-cogs"></i>
                <span>Production</span>
              </a>
            </li>
            <li>
              <a href="/extrusion" class="tooltip" data-tooltip="Extrusion Process">
                <i class="fas fa-industry"></i>
                <span>Extrusion</span>
              </a>
            </li>
            <li>
              <a href="/coating" class="tooltip" data-tooltip="Coating Department">
                <i class="fas fa-brush"></i>
                <span>Coating</span>
              </a>
            </li>
            <li>
              <a href="/jointing" class="tooltip" data-tooltip="Jointing Process">
                <i class="fas fa-link"></i>
                <span>Jointing</span>
              </a>
            </li>
            <li>
              <a href="/moulding" class="tooltip" data-tooltip="Moulding Department">
                <i class="fas fa-cube"></i>
                <span>Moulding</span>
              </a>
            </li>
            <li>
              <a href="/sheeting" class="tooltip" data-tooltip="Sheeting Process">
                <i class="fas fa-layer-group"></i>
                <span>Sheeting</span>
              </a>
            </li>
            <li>
              <a href="/qc" class="tooltip" data-tooltip="Quality Control">
                <i class="fas fa-user-shield"></i>
                <span>QC Supervisor</span>
              </a>
            </li>
            <li>
              <a href="/planning" class="tooltip" data-tooltip="Production Planning">
                <i class="fas fa-calendar-alt"></i>
                <span>Planning</span>
              </a>
            </li>
            <li>
              <a href="/inspection" class="tooltip" data-tooltip="Quality Inspection">
                <i class="fas fa-clipboard-check"></i>
                <span>Inspection</span>
              </a>
            </li>
            <li>
              <a href="/finalinspection" class="tooltip" data-tooltip="Final Quality Check">
                <i class="fas fa-check-double"></i>
                <span>Final Inspection</span>
              </a>
            </li>
            <li>
              <a href="/dispatch-note" class="tooltip" data-tooltip="Dispatch Approval">
                <i class="fas fa-file-signature"></i>
                <span>Dispatch Approval</span>
              </a>
            </li>
            <li>
              <a href="/packing" class="tooltip" data-tooltip="Packing Department">
                <i class="fas fa-box"></i>
                <span>Packing</span>
              </a>
            </li>
            <li>
              <a href="/dispatch" class="tooltip" data-tooltip="Dispatch Management">
                <i class="fas fa-truck"></i>
                <span>Dispatch</span>
              </a>
            </li>
          </ul>
        </div>
        
         <div class="user-info">
          <img src="/armol-removebg-preview.png" alt="ManufacturePro Logo">
        </div> 
      </div>
    </nav>

    <!-- Enhanced Main Content -->
    <main class="main-content">
      <!-- Content Header -->
      <div class="content-header">
        <h1 class="welcome-message" th:text="${message}">Welcome to ManufacturePro CRM</h1>
        <h2 class="page-title">Manufacturing Dashboard</h2>
        <p class="page-subtitle">Monitor and manage your manufacturing operations</p>
      </div>

      <!-- Stats Summary -->
      <div class="stats-summary">
        <div class="stat-card">
          <h3>Total Active Orders</h3>
          <div class="stat-number" th:text="${totalOrders}">0</div>
          <div class="stat-label">Orders</div>
        </div>
        <div class="stat-card">
          <h3>Production Lines</h3>
          <div class="stat-number" th:text="${totalProd}">0</div>
          <div class="stat-label">Active</div>
        </div>
        <div class="stat-card">
          <h3>Quality Checks</h3>
          <div class="stat-number" th:text="${totalqcsuper}">0</div>
          <div class="stat-label">Pending</div>
        </div>
        <div class="stat-card">
          <h3>Ready to Dispatch</h3>
          <div class="stat-number" th:text="${totaldis}">0</div>
          <div class="stat-label">Items</div>
        </div>
      </div>

      <!-- Dashboard Grid -->
      <div class="dashboard-grid">
        <button class="dashboard-btn" data-type="dispatch" onclick="navigateTo('/dispatch')">
          <i class="fas fa-truck"></i>
          <div class="btn-title">Dispatch</div>
          <div class="btn-count" th:text="${totaldis}">0</div>
          <small>Ready for shipment</small>
        </button>

        <button class="dashboard-btn" data-type="order" onclick="navigateTo('/order')">
          <i class="fas fa-clipboard-list"></i>
          <div class="btn-title">Order Log</div>
          <div class="btn-count" th:text="${totalOrders}">0</div>
          <small>Active orders</small>
        </button>

        <button class="dashboard-btn" data-type="production" onclick="navigateTo('/mixing')">
          <i class="fas fa-blender"></i>
          <div class="btn-title">Mixing</div>
          <div class="btn-count" th:text="${totalMixings}">0</div>
          <small>In process</small>
        </button>

        <button class="dashboard-btn" data-type="production" onclick="navigateTo('/production')">
          <i class="fas fa-cogs"></i>
          <div class="btn-title">Production</div>
          <div class="btn-count" th:text="${totalProd}">0</div>
          <small>Active lines</small>
        </button>

        <button class="dashboard-btn" data-type="production" onclick="navigateTo('/extrusion')">
          <i class="fas fa-industry"></i>
          <div class="btn-title">Extrusion</div>
          <div class="btn-count" th:text="${totalext}">0</div>
          <small>Running processes</small>
        </button>

        <button class="dashboard-btn" data-type="production" onclick="navigateTo('/coating')">
          <i class="fas fa-brush"></i>
          <div class="btn-title">Coating</div>
          <div class="btn-count" th:text="${totalcoat}">0</div>
          <small>In coating</small>
        </button>

        <button class="dashboard-btn" data-type="production" onclick="navigateTo('/jointing')">
          <i class="fas fa-link"></i>
          <div class="btn-title">Jointing</div>
          <div class="btn-count" th:text="${totaljoint}">0</div>
          <small>Joint operations</small>
        </button>

        <button class="dashboard-btn" data-type="production" onclick="navigateTo('/moulding')">
          <i class="fas fa-cube"></i>
          <div class="btn-title">Moulding</div>
          <div class="btn-count" th:text="${totalmould}">0</div>
          <small>Moulding active</small>
        </button>

        <button class="dashboard-btn" data-type="production" onclick="navigateTo('/sheeting')">
          <i class="fas fa-layer-group"></i>
          <div class="btn-title">Sheeting</div>
          <div class="btn-count" th:text="${totalsheet}">0</div>
          <small>Sheet processing</small>
        </button>

        <button class="dashboard-btn" data-type="quality" onclick="navigateTo('/qc')">
          <i class="fas fa-user-shield"></i>
          <div class="btn-title">QC Supervisor</div>
          <div class="btn-count" th:text="${totalqcsuper}">0</div>
          <small>Quality checks</small>
        </button>

        <button class="dashboard-btn" data-type="order" onclick="navigateTo('/planning')">
          <i class="fas fa-calendar-alt"></i>
          <div class="btn-title">Planning</div>
          <div class="btn-count" th:text="${totalplanning}">0</div>
          <small>Scheduled items</small>
        </button>

        <button class="dashboard-btn" data-type="quality" onclick="navigateTo('/inspection')">
          <i class="fas fa-clipboard-check"></i>
          <div class="btn-title">Inspection</div>
          <div class="btn-count" th:text="${totalins}">0</div>
          <small>Pending inspection</small>
        </button>

        <button class="dashboard-btn" data-type="quality" onclick="navigateTo('/finalinspection')">
          <i class="fas fa-check-double"></i>
          <div class="btn-title">Final Inspection</div>
          <div class="btn-count" th:text="${totalfinalins}">0</div>
          <small>Final checks</small>
        </button>

        <button class="dashboard-btn" data-type="dispatch" onclick="navigateTo('/dispatch-note')">
          <i class="fas fa-file-signature"></i>
          <div class="btn-title">Dispatch Approval</div>
          <div class="btn-count" th:text="${totaldispatchnote}">0</div>
          <small>Awaiting approval</small>
        </button>

        <button class="dashboard-btn" data-type="dispatch" onclick="navigateTo('/packing')">
          <i class="fas fa-box"></i>
          <div class="btn-title">Packing</div>
          <div class="btn-count" th:text="${totalpack}">0</div>
          <small>Ready to pack</small>
        </button>
      </div>

      <!-- Additional Dashboard Features -->
      <div class="dashboard-features">
        <div class="feature-grid">
          <div class="feature-card">
            <div class="feature-header">
              <i class="fas fa-chart-line"></i>
              <h3>Place Order</h3>
            </div>
            <p>Place The New Order</p>
            <button class="feature-btn" onclick="navigateTo('/order')">
              <i class="fas fa-arrow-right"></i>
              View OrderLog
            </button>
          </div>

          <div class="feature-card">
            <div class="feature-header">
              <i class="fas fa-search"></i>
              <h3>Quick Search</h3>
            </div>
            <p>Search across all departments and processes instantly</p>
            <button class="feature-btn" onclick="navigateTo('/search')">
              <i class="fas fa-arrow-right"></i>
              Search Now
            </button>
          </div>

          <div class="feature-card">
            <div class="feature-header">
              <i class="fas fa-bell"></i>
              <h3>Notifications</h3>
            </div>
            <p>Stay updated with real-time alerts and notifications</p>
            <button class="feature-btn" onclick="showNotifications()">
              <i class="fas fa-arrow-right"></i>
              View Alerts
            </button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Quick Actions Floating Menu -->
  <div class="quick-actions">
    <button class="quick-actions-btn" onclick="toggleQuickActions()">
      <i class="fas fa-plus" id="quickActionsIcon"></i>
    </button>
    <div class="quick-actions-menu" id="quickActionsMenu">
      <a href="/order" class="quick-action-item">
        <i class="fas fa-plus-circle"></i>
        <span>New Order</span>
      </a>
      <a href="/search" class="quick-action-item">
        <i class="fas fa-search"></i>
        <span>Quick Search</span>
      </a>
      <a href="/reports" class="quick-action-item">
        <i class="fas fa-chart-bar"></i>
        <span>View Reports</span>
      </a>
      <div class="quick-action-item" onclick="showNotifications()">
        <i class="fas fa-bell"></i>
        <span>Notifications</span>
      </div>
      <div class="quick-action-item" onclick="refreshDashboardData()">
        <i class="fas fa-sync-alt"></i>
        <span>Refresh Data</span>
      </div>
    </div>
  </div>

  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-content">
      <div class="loading-spinner"></div>
      <p>Loading dashboard data...</p>
    </div>
  </div>

  <!-- Enhanced JavaScript -->
  <script>
    // Navigation function with loading state
    function navigateTo(url) {
      // Add loading state to clicked button
      const clickedBtn = event.target.closest('.dashboard-btn');
      if (clickedBtn) {
        const originalContent = clickedBtn.innerHTML;
                clickedBtn.innerHTML = '<div class="loading-spinner"></div><div style="margin-top: 8px;">Loading...</div>';
        clickedBtn.style.pointerEvents = 'none';
        
        // Navigate after short delay for UX
        setTimeout(() => {
          window.location.href = url;
        }, 500);
      } else {
        window.location.href = url;
      }
    }

    // Sidebar toggle for mobile
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('active');
    }

    // Close sidebar when clicking outside on mobile
    document.addEventListener('click', function(event) {
      const sidebar = document.getElementById('sidebar');
      const toggleBtn = document.querySelector('.sidebar-toggle');
      
      if (window.innerWidth <= 768 && 
          !sidebar.contains(event.target) && 
          !toggleBtn.contains(event.target) && 
          sidebar.classList.contains('active')) {
        sidebar.classList.remove('active');
      }
    });

    // Keyboard navigation
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        const sidebar = document.getElementById('sidebar');
        if (sidebar.classList.contains('active')) {
          sidebar.classList.remove('active');
        }
      }
    });

    // Dashboard button hover effects
    document.querySelectorAll('.dashboard-btn').forEach(btn => {
      btn.addEventListener('mouseenter', function() {
        this.style.transform = 'translateY(-8px) scale(1.02)';
      });
      
      btn.addEventListener('mouseleave', function() {
        this.style.transform = '';
      });
    });

    // Auto-refresh dashboard data every 30 seconds
    function refreshDashboardData() {
      // This would typically make an AJAX call to refresh the counts
      console.log('Refreshing dashboard data...');
      
      // Add visual indicator for refresh
      const refreshIndicator = document.createElement('div');
      refreshIndicator.innerHTML = '<i class="fas fa-sync-alt fa-spin"></i> Updating...';
      refreshIndicator.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: var(--primary-color);
        color: white;
        padding: 8px 16px;
        border-radius: 6px;
        font-size: 14px;
        z-index: 1000;
        box-shadow: var(--shadow-md);
      `;
      
      document.body.appendChild(refreshIndicator);
      
      setTimeout(() => {
        refreshIndicator.remove();
      }, 2000);
    }

    // Set up auto-refresh
    setInterval(refreshDashboardData, 30000);

    // Notification system
    function showNotifications() {
      const notifications = [
        { type: 'warning', message: 'Quality check required for Order #12345', time: '2 min ago' },
        { type: 'success', message: 'Batch #67890 completed successfully', time: '5 min ago' },
        { type: 'info', message: 'New order received: #54321', time: '10 min ago' }
      ];

      const notificationPanel = document.createElement('div');
      notificationPanel.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        width: 350px;
        max-height: 400px;
        background: white;
        border-radius: 12px;
        box-shadow: var(--shadow-xl);
        z-index: 1001;
        overflow: hidden;
        border: 1px solid var(--border-color);
      `;

      let notificationHTML = `
        <div style="padding: 16px; border-bottom: 1px solid var(--border-color); background: var(--background-secondary);">
          <h3 style="margin: 0; display: flex; align-items: center; gap: 8px;">
            <i class="fas fa-bell"></i>
            Notifications
            <button onclick="this.closest('div').parentElement.remove()" style="margin-left: auto; background: none; border: none; font-size: 18px; cursor: pointer;">Ã—</button>
          </h3>
        </div>
        <div style="max-height: 300px; overflow-y: auto;">
      `;

      notifications.forEach(notif => {
        const iconClass = notif.type === 'warning' ? 'fa-exclamation-triangle' : 
                         notif.type === 'success' ? 'fa-check-circle' : 'fa-info-circle';
        const iconColor = notif.type === 'warning' ? 'var(--warning-color)' : 
                         notif.type === 'success' ? 'var(--success-color)' : 'var(--info-color)';
        
        notificationHTML += `
          <div style="padding: 12px 16px; border-bottom: 1px solid var(--border-light); display: flex; gap: 12px;">
            <i class="fas ${iconClass}" style="color: ${iconColor}; margin-top: 2px;"></i>
            <div style="flex: 1;">
              <p style="margin: 0 0 4px 0; font-size: 14px;">${notif.message}</p>
              <small style="color: var(--text-secondary);">${notif.time}</small>
            </div>
          </div>
        `;
      });

      notificationHTML += '</div>';
      notificationPanel.innerHTML = notificationHTML;
      document.body.appendChild(notificationPanel);

      // Auto-remove after 10 seconds
      setTimeout(() => {
        if (notificationPanel.parentElement) {
          notificationPanel.remove();
        }
      }, 10000);
    }

    // Quick actions menu toggle
    function toggleQuickActions() {
      const menu = document.getElementById('quickActionsMenu');
      const icon = document.getElementById('quickActionsIcon');
      
      menu.classList.toggle('active');
      
      if (menu.classList.contains('active')) {
        icon.style.transform = 'rotate(45deg)';
      } else {
        icon.style.transform = 'rotate(0deg)';
      }
    }

    // Close quick actions when clicking outside
    document.addEventListener('click', function(event) {
      const quickActions = document.querySelector('.quick-actions');
      const menu = document.getElementById('quickActionsMenu');
      const icon = document.getElementById('quickActionsIcon');
      
      if (!quickActions.contains(event.target) && menu.classList.contains('active')) {
        menu.classList.remove('active');
        icon.style.transform = 'rotate(0deg)';
      }
    });

    // Enhanced loading overlay
    function showLoadingOverlay() {
      document.getElementById('loadingOverlay').classList.add('active');
    }

    function hideLoadingOverlay() {
      document.getElementById('loadingOverlay').classList.remove('active');
    }

   /*  // Real-time data updates simulation
    function simulateRealTimeUpdates() {
      const counters = document.querySelectorAll('.btn-count, .stat-number');
      
      counters.forEach(counter => {
        const currentValue = parseInt(counter.textContent) || 0;
        const change = Math.floor(Math.random() * 3) - 1; // -1, 0, or 1
        const newValue = Math.max(0, currentValue + change);
        
        if (newValue !== currentValue) {
          counter.style.transform = 'scale(1.2)';
          counter.style.color = change > 0 ? 'var(--success-color)' : 'var(--warning-color)';
          
          setTimeout(() => {
            counter.textContent = newValue;
            counter.style.transform = 'scale(1)';
            counter.style.color = '';
          }, 200);
        }
      });
    } */

    // Start real-time updates every 10 seconds
    setInterval(simulateRealTimeUpdates, 10000);

    // Keyboard shortcuts
    document.addEventListener('keydown', function(event) {
      if (event.ctrlKey || event.metaKey) {
        switch(event.key) {
          case 'k':
            event.preventDefault();
            navigateTo('/search');
            break;
          case 'n':
            event.preventDefault();
            navigateTo('/order');
            break;
          case 'r':
            event.preventDefault();
            refreshDashboardData();
            break;
        }
      }
    });

    // Initialize dashboard
    document.addEventListener('DOMContentLoaded', function() {
      // Add loading animation to page
      document.body.style.opacity = '0';
      document.body.style.transition = 'opacity 0.5s ease';
      
      setTimeout(() => {
        document.body.style.opacity = '1';
      }, 100);

      // Initialize tooltips for mobile
      if (window.innerWidth <= 768) {
        document.querySelectorAll('.tooltip').forEach(el => {
          el.addEventListener('click', function(e) {
            e.preventDefault();
            const tooltip = this.getAttribute('data-tooltip');
            if (tooltip) {
              alert(tooltip);
            }
          });
        });
      }

      // Add ripple effect to buttons
      document.querySelectorAll('.dashboard-btn, .feature-btn').forEach(button => {
        button.addEventListener('click', function(e) {
          const ripple = document.createElement('span');
          const rect = this.getBoundingClientRect();
          const size = Math.max(rect.width, rect.height);
          const x = e.clientX - rect.left - size / 2;
          const y = e.clientY - rect.top - size / 2;
          
          ripple.style.cssText = `
            position: absolute;
            width: ${size}px;
            height: ${size}px;
            left: ${x}px;
            top: ${y}px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: scale(0);
            animation: ripple 0.6s linear;
            pointer-events: none;
          `;
          
          this.appendChild(ripple);
          
          setTimeout(() => {
            ripple.remove();
          }, 600);
        });
      });

      // Performance monitoring
      if ('performance' in window) {
        window.addEventListener('load', function() {
          const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
          console.log(`Dashboard loaded in ${loadTime}ms`);
        });
      }

      // Add keyboard shortcut hints
      const shortcuts = document.createElement('div');
      shortcuts.innerHTML = `
        <div style="position: fixed; bottom: 10px; left: 10px; background: rgba(0,0,0,0.8); color: white; padding: 8px 12px; border-radius: 6px; font-size: 12px; z-index: 1000; opacity: 0; transition: opacity 0.3s;">
          <div>Ctrl+K: Search</div>
          <div>Ctrl+N: New Order</div>
          <div>Ctrl+R: Refresh</div>
        </div>
      `;
      
      // Show shortcuts on Ctrl key hold
      document.addEventListener('keydown', function(event) {
        if (event.ctrlKey || event.metaKey) {
          shortcuts.firstElementChild.style.opacity = '1';
        }
      });
      
      document.addEventListener('keyup', function(event) {
        if (!event.ctrlKey && !event.metaKey) {
          shortcuts.firstElementChild.style.opacity = '0';
        }
      });
      
      document.body.appendChild(shortcuts);

      // Initialize intersection observer for animations
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.animation = 'slideInUp 0.6s ease-out forwards';
          }
        });
      });

      document.querySelectorAll('.feature-card').forEach(card => {
        observer.observe(card);
      });

      // Add connection status indicator
      function updateConnectionStatus() {
        const status = navigator.onLine ? 'online' : 'offline';
        const indicator = document.getElementById('connectionStatus') || document.createElement('div');
        
        if (!document.getElementById('connectionStatus')) {
          indicator.id = 'connectionStatus';
          indicator.style.cssText = `
            position: fixed;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            z-index: 1001;
            transition: all 0.3s ease;
          `;
          document.body.appendChild(indicator);
        }
        
        if (status === 'online') {
          indicator.style.background = 'var(--success-color)';
          indicator.style.color = 'white';
          indicator.innerHTML = '<i class="fas fa-wifi"></i> Connected';
          indicator.style.opacity = '0';
        } else {
          indicator.style.background = 'var(--error-color)';
          indicator.style.color = 'white';
          indicator.innerHTML = '<i class="fas fa-wifi-slash"></i> Offline';
          indicator.style.opacity = '1';
        }
      }

      window.addEventListener('online', updateConnectionStatus);
      window.addEventListener('offline', updateConnectionStatus);
      updateConnectionStatus();
    });

    // Error handling
    window.addEventListener('error', function(event) {
      console.error('Dashboard error:', event.error);
      // Could send error to logging service
    });

    // Service worker registration for offline support
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').catch(function(error) {
        console.log('Service Worker registration failed:', error);
      });
    }
  </script>
</body>
</html>



   

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ManufacturePro CRM - Order Log Management</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      /* Manufacturing CRM Color Palette - Consistent with dashboard */
      --primary-color: rgb(255, 0, 0);
      --primary-dark: #1e3a8a;
      --primary-light:  rgb(0, 0, 0);
      --secondary-color: #f59e0b;
      --accent-color: #10b981;
      --success-color: #059669;
      --warning-color: #d97706;
      --error-color: #dc2626;
      --info-color: #0284c7;
      
      /* Background & Surface Colors */
      --background-primary: #f8fafc;
      --background-secondary: #f1f5f9;
      --card-background: #ffffff;
      --sidebar-background: rgb(128, 0, 0);
      --sidebar-hover:  #F3CE14;
      
      /* Text Colors */
      --text-primary: #1f2937;
      --text-secondary: #6b7280;
      --text-light: #9ca3af;
      --text-white: #ffffff;
      
      /* Border & Shadow */
      --border-color: #e5e7eb;
      --border-light: #f3f4f6;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      
      /* Gradients */
      --gradient-primary: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
      --gradient-secondary: linear-gradient(135deg, var(--secondary-color) 0%, #ea580c 100%);
      --gradient-success: linear-gradient(135deg, var(--accent-color) 0%, var(--success-color) 100%);
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--background-primary);
      color: var(--text-primary);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* Container Layout */
    .container {
      display: flex;
      min-height: 100vh;
    }

    /* Enhanced Sidebar - FIXED STRUCTURE */
    .sidebar {
      width: 280px;
      background: var(--sidebar-background);
      color: var(--text-white);
      height: 100vh;
      position: fixed;
      left: 0;
      top: 0;
      box-shadow: var(--shadow-xl);
      border-right: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 1000;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      flex-direction: column;
    }

    /* Sidebar Header - FIXED POSITION */
    .sidebar-header {
      position: sticky;
      top: 0;
      padding: 24px 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      background: var(--sidebar-background);
      background: linear-gradient(135deg, rgb(255, 128, 0) 0%, rgba(30, 58, 138, 0.1) 100%);
      z-index: 1001;
      flex-shrink: 0;
      backdrop-filter: blur(10px);
    }

    .sidebar h2 {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: -0.025em;
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 0;
    }

    .sidebar h2 i {
      font-size: 24px;
      color: var(--primary-light);
    }

    /* Sidebar Body - SCROLLABLE AREA */
    .sidebar-body {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* Navigation Links Container - SCROLLABLE */
    .nav-container {
      flex: 1;
      overflow-y: auto;
      overflow-x: hidden;
      padding: 16px 0;
    }

    /* Custom Scrollbar for Sidebar */
    .nav-container::-webkit-scrollbar {
      width: 6px;
    }

    .nav-container::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
    }

    .nav-container::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 3px;
    }

    .nav-container::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, 0.5);
    }

    /* Navigation Links */
    .nav-links {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .nav-links li {
      margin: 0;
      position: relative;
    }

    .nav-links li.active::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 4px;
      background: var(--primary-light);
      border-radius: 0 4px 4px 0;
    }

    .nav-links li.active {
      background: var(--sidebar-hover);
    }

    .nav-links a {
      color: var(--text-white);
      text-decoration: none;
      padding: 12px 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      font-weight: 500;
      font-size: 14px;
      position: relative;
      overflow: hidden;
    }

    .nav-links a::before {
      content: '';
      position: absolute;
      left: -100%;
      top: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
      transition: left 0.5s;
    }

    .nav-links a:hover::before {
      left: 100%;
    }

    .nav-links a:hover {
      background: var(--sidebar-hover);
      transform: translateX(4px);
      color: var(--primary-light);
    }

    .nav-links a i {
      font-size: 16px;
      width: 20px;
      text-align: center;
      color: #94a3b8;
      transition: color 0.3s ease;
      flex-shrink: 0;
    }

    .nav-links a:hover i,
    .nav-links li.active a i {
      color: var(--primary-light);
    }

    /* User Info Section - FIXED AT BOTTOM */
    .user-info {
      position: sticky;
      bottom: 0;
      padding: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      background: var(--sidebar-background);
      background: rgba(0, 0, 0, 0.2);
      z-index: 1001;
      flex-shrink: 0;
      backdrop-filter: blur(10px);
    }

    .user-info img {
      width: 100%;
      max-width: 200px;
      height: auto;
      border-radius: 8px;
      box-shadow: var(--shadow-md);
    }

    /* Main Content */
    .main-content {
      margin-left: 280px;
      padding: 32px 40px;
      width: calc(100% - 280px);
      min-height: 100vh;
      background: var(--background-primary);
    }

    /* Page Header */
    .page-header {
      margin-bottom: 32px;
      padding-bottom: 24px;
      border-bottom: 2px solid var(--border-light);
    }

    .page-title {
      font-size: 28px;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .page-title i {
      color: var(--primary-color);
    }

    .page-subtitle {
      font-size: 16px;
      color: var(--text-secondary);
      margin-bottom: 16px;
    }

    .success-message {
      background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
      color: var(--success-color);
      padding: 16px 20px;
      border-radius: 12px;
      border-left: 4px solid var(--success-color);
      font-size: 18px;
      font-weight: 600;
      text-align: center;
      margin-bottom: 24px;
      box-shadow: var(--shadow-sm);
    }

    /* Enhanced Form Container */
    .form-container {
      background: var(--card-background);
      border-radius: 16px;
      padding: 32px;
      box-shadow: var(--shadow-lg);
      border: 1px solid var(--border-color);
      position: relative;
      overflow: hidden;
    }

    .form-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--gradient-primary);
    }

    /* Form Layout */
    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 32px;
      margin-bottom: 24px;
    }

    .form-column {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    /* Form Groups */
    .form-group {
      position: relative;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text-primary);
      font-size: 14px;
      letter-spacing: 0.025em;
      position: relative;
    }

    .form-group label.required::after {
      content: " *";
      color: var(--error-color);
      font-weight: 700;
    }

    /* Enhanced Form Inputs */
    .form-group input[type="text"],
    .form-group input[type="date"],
    .form-group input[type="number"],
    .form-group input[type="file"],
    .form-group select {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid var(--border-color);
      border-radius: 8px;
      font-size: 14px;
      font-family: inherit;
      background: var(--card-background);
      color: var(--text-primary);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
    }

    .form-group input:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
      transform: translateY(-1px);
    }

    .form-group input:hover,
    .form-group select:hover {
      border-color: var(--primary-light);
    }

    /* File Input Styling */
    .form-group input[type="file"] {
      padding: 8px 12px;
      background: var(--background-secondary);
      border-style: dashed;
      cursor: pointer;
    }

    .form-group input[type="file"]:hover {
      background: var(--background-primary);
    }

    /* Datalist Styling */
    datalist {
      background: var(--card-background);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      box-shadow: var(--shadow-md);
    }

    /* Radio Group Styling */
    .radio-group {
      display: flex;
      gap: 20px;
      margin-top: 8px;
    }

    .radio-group label {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
      cursor: pointer;
      padding: 8px 12px;
      border-radius: 6px;
      transition: background-color 0.2s ease;
    }

    .radio-group label:hover {
      background: var(--background-secondary);
    }

    .radio-group input[type="radio"] {
      width: 18px;
      height: 18px;
      accent-color: var(--primary-color);
      cursor: pointer;
    }

    /* Enhanced Button Group */
    .button-group {
      display: flex;
      gap: 16px;
      justify-content: flex-end;
      margin-top: 32px;
      padding-top: 24px;
      border-top: 1px solid var(--border-light);
      flex-wrap: wrap;
    }

       /* Button Styles */
    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      position: relative;
      overflow: hidden;
      min-width: 120px;
      justify-content: center;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn-draft {
      background: var(--gradient-secondary);
      color: white;
      border: 2px solid transparent;
    }

    .btn-draft:hover {
      background: linear-gradient(135deg, #ea580c 0%, #dc2626 100%);
      box-shadow: 0 8px 25px rgba(234, 88, 12, 0.3);
    }

    .btn-submit {
      background: var(--gradient-primary);
      color: white;
      border: 2px solid transparent;
    }

    .btn-submit:hover {
      background: linear-gradient(135deg, var(--primary-dark) 0%, #1e3a8a 100%);
      box-shadow: 0 8px 25px rgba(30, 64, 175, 0.3);
    }

    .btn:not(.btn-draft):not(.btn-submit) {
      background: var(--card-background);
      color: var(--text-primary);
      border: 2px solid var(--border-color);
    }

    .btn:not(.btn-draft):not(.btn-submit):hover {
      background: var(--background-secondary);
      border-color: var(--primary-color);
      color: var(--primary-color);
    }

    /* Form Section Headers */
    .form-section {
      margin-bottom: 32px;
    }

    .form-section-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 20px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--border-light);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .form-section-title i {
      color: var(--primary-color);
    }

    /* Progress Indicator */
    .form-progress {
      display: flex;
      justify-content: space-between;
      margin-bottom: 32px;
      padding: 0 20px;
    }

    .progress-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 1;
      position: relative;
    }

    .progress-step::after {
      content: '';
      position: absolute;
      top: 20px;
      left: 50%;
      width: 100%;
      height: 2px;
      background: var(--border-color);
      z-index: 1;
    }

    .progress-step:last-child::after {
      display: none;
    }

    .progress-step.active::after {
      background: var(--primary-color);
    }

    .progress-circle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--border-color);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      color: var(--text-secondary);
      position: relative;
      z-index: 2;
      transition: all 0.3s ease;
    }

    .progress-step.active .progress-circle {
      background: var(--primary-color);
      color: white;
    }

    .progress-label {
      margin-top: 8px;
      font-size: 12px;
      font-weight: 500;
      color: var(--text-secondary);
      text-align: center;
    }

    .progress-step.active .progress-label {
      color: var(--primary-color);
    }

    /* Sidebar Toggle for Mobile */
    .sidebar-toggle {
      display: none;
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 1001;
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px;
      cursor: pointer;
      box-shadow: var(--shadow-md);
      transition: all 0.3s ease;
    }

    .sidebar-toggle:hover {
      background: var(--primary-dark);
      transform: scale(1.05);
    }

    /* Responsive Design */
    @media (max-width: 1200px) {
      .form-row {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 24px;
      }
    }

    @media (max-width: 768px) {
      .sidebar-toggle {
        display: block;
      }
      
      .sidebar {
        width: 70px;
        transform: translateX(-100%);
      }
      
      .sidebar.active {
        transform: translateX(0);
        width: 280px;
      }
      
      .sidebar:not(.active) .sidebar-header {
        padding: 20px 10px;
      }
      
      .sidebar:not(.active) .sidebar h2 span {
        display: none;
      }
      
      .sidebar:not(.active) .nav-links a span {
        display: none;
      }
      
      .sidebar:not(.active) .nav-links a {
        justify-content: center;
        padding: 12px 10px;
      }
      
      .sidebar:not(.active) .nav-links a i {
        margin-right: 0;
        font-size: 18px;
      }
      
      .sidebar:not(.active) .user-info {
        padding: 15px 10px;
      }
      
      .sidebar:not(.active) .user-info img {
        max-width: 40px;
      }
      
      .main-content {
        margin-left: 0;
        width: 100%;
        padding: 80px 16px 20px 16px;
      }
      
      .form-container {
        padding: 24px 20px;
      }
      
      .form-row {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .button-group {
        flex-direction: column;
        align-items: stretch;
      }
      
      .btn {
        width: 100%;
      }
      
      .page-title {
        font-size: 24px;
      }
      
      .form-progress {
        padding: 0 10px;
      }
      
      .progress-label {
        font-size: 10px;
      }
    }

    @media (max-width: 480px) {
      .main-content {
        padding: 70px 12px 16px 12px;
      }
      
      .form-container {
        padding: 20px 16px;
      }
      
      .page-title {
        font-size: 20px;
      }
      
      .form-progress {
        display: none;
      }
    }

    /* Loading States */
    .btn.loading {
      pointer-events: none;
      opacity: 0.7;
    }

    .btn.loading::after {
      content: '';
      width: 16px;
      height: 16px;
      border: 2px solid transparent;
      border-top: 2px solid currentColor;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-left: 8px;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /* Form Validation Styles */
    .form-group input:invalid:not(:focus):not(:placeholder-shown) {
      border-color: var(--error-color);
      background-color: rgba(220, 38, 38, 0.05);
    }

    .form-group input:valid:not(:focus):not(:placeholder-shown) {
      border-color: var(--success-color);
      background-color: rgba(5, 150, 105, 0.05);
    }

    .error-message {
      color: var(--error-color);
      font-size: 12px;
      margin-top: 4px;
      display: none;
    }

    .form-group.error .error-message {
      display: block;
    }

    .form-group.error input {
      border-color: var(--error-color);
      background-color: rgba(220, 38, 38, 0.05);
    }

    /* Accessibility Improvements */
    .form-group input:focus,
    .form-group select:focus,
    .btn:focus {
      outline: 2px solid var(--primary-color);
      outline-offset: 2px;
    }

    /* High contrast mode support */
    @media (prefers-contrast: high) {
      :root {
        --primary-color: #000080;
        --text-primary: #000000;
        --border-color: #000000;
      }
    }

    /* Reduced motion support */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Print styles */
    @media print {
      .sidebar,
      .sidebar-toggle,
      .button-group {
        display: none;
      }
      
      .main-content {
        margin-left: 0;
        width: 100%;
      }
      
      .form-container {
        box-shadow: none;
        border: 1px solid #ccc;
      }
    }

    /* Tooltip Styles */
    .tooltip {
      position: relative;
      cursor: help;
    }

    .tooltip::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: var(--text-primary);
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 12px;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
      z-index: 1000;
    }

    .tooltip:hover::after {
      opacity: 1;
    }

    /* Enhanced Datalist Styling */
    input[list]::-webkit-calendar-picker-indicator {
      opacity: 0.5;
      cursor: pointer;
    }

    /* Animation for form elements */
    .form-group {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s ease-out forwards;
    }

    .form-group:nth-child(1) { animation-delay: 0.1s; }
    .form-group:nth-child(2) { animation-delay: 0.2s; }
    .form-group:nth-child(3) { animation-delay: 0.3s; }
    .form-group:nth-child(4) { animation-delay: 0.4s; }
    .form-group:nth-child(5) { animation-delay: 0.5s; }
    .form-group:nth-child(6) { animation-delay: 0.6s; }
    .form-group:nth-child(7) { animation-delay: 0.7s; }
    .form-group:nth-child(8) { animation-delay: 0.8s; }
    .form-group:nth-child(9) { animation-delay: 0.9s; }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* File Preview Styles */
    .file-preview {
      margin-top: 12px;
      padding: 12px;
      border: 2px dashed var(--border-color);
      border-radius: 8px;
      text-align: center;
      background: var(--background-secondary);
    }

    .file-preview img {
      max-width: 200px;
      max-height: 150px;
      border-radius: 6px;
      box-shadow: var(--shadow-sm);
    }

    .file-preview p {
      margin-top: 8px;
      font-size: 12px;
      color: var(--text-secondary);
    }

    /* Notification Styles */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 16px 20px;
      border-radius: 8px;
      color: white;
      font-weight: 500;
      z-index: 1001;
      transform: translateX(100%);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: var(--shadow-lg);
      max-width: 300px;
    }

    .notification-success { background-color: var(--success-color); }
    .notification-error { background-color: var(--error-color); }
    .notification-warning { background-color: var(--warning-color); }
    .notification-info { background-color: var(--info-color); }

    .notification.show {
      transform: translateX(0);
    }
  </style>
</head>
<body>
  <!-- Sidebar Toggle Button for Mobile -->
  <button class="sidebar-toggle" onclick="toggleSidebar()">
    <i class="fas fa-bars"></i>
  </button>

  <div class="container">
    <!-- Enhanced Sidebar Navigation - FIXED STRUCTURE -->
    <nav class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <h2>
          <i class="fas fa-industry"></i>
          <span>ManufacturePro</span>
        </h2>
      </div>
      
      <div class="sidebar-body">
        <div class="nav-container">
          <ul class="nav-links">
            <li><a href="/dashboard"><i class="fas fa-home"></i><span>Dashboard</span></a></li>
            <!-- <li><a href="/dashboard"><i class="fas fa-tachometer-alt"></i><span>Overview</span></a></li> -->
            <!-- <li><a href="/reports"><i class="fas fa-chart-bar"></i><span>Reports</span></a></li> -->
            <li ><a href="/search"><i class="fas fa-search"></i><span>Search</span></a></li>
            <li class="active"><a href="/order"><i class="fas fa-clipboard-list"></i><span>Order Log</span></a></li>
            <li><a href="/mixing"><i class="fas fa-blender"></i><span>Mixing</span></a></li>
            <li><a href="/production"><i class="fas fa-cogs"></i><span>Production</span></a></li>
            <li><a href="/extrusion"><i class="fas fa-industry"></i><span>Extrusion</span></a></li>
            <li><a href="/coating"><i class="fas fa-brush"></i><span>Coating</span></a></li>
            <li><a href="/jointing"><i class="fas fa-link"></i><span>Jointing</span></a></li>
            <li><a href="/moulding"><i class="fas fa-cube"></i><span>Moulding</span></a></li>
            <li><a href="/sheeting"><i class="fas fa-layer-group"></i><span>Sheeting</span></a></li>
            <li><a href="/qc"><i class="fas fa-user-shield"></i><span>QC Supervisor</span></a></li>
            <li><a href="/planning"><i class="fas fa-calendar-alt"></i><span>Planning</span></a></li>
            <li><a href="/inspection"><i class="fas fa-clipboard-check"></i><span>Inspection</span></a></li>
            <li><a href="/finalinspection"><i class="fas fa-check-double"></i><span>Final Inspection</span></a></li>
            <li><a href="/dispatch-note"><i class="fas fa-file-signature"></i><span>Dispatch Approval</span></a></li>
            <li><a href="/packing"><i class="fas fa-box"></i><span>Packing</span></a></li>
            <li><a href="/dispatch"><i class="fas fa-truck"></i><span>Dispatch</span></a></li>
          </ul>
        </div>
        
        <div class="user-info">
          <img src="armol-removebg-preview.png" alt="ManufacturePro Logo">
        </div>
      </div>
    </nav>

    <!-- Enhanced Main Content -->
    <main class="main-content">
      <!-- Page Header -->
      <div class="page-header">
        <h1 class="page-title">
          <i class="fas fa-clipboard-list"></i>
          Order Log Management
        </h1>
        <p class="page-subtitle">Create and manage manufacturing orders with comprehensive tracking</p>
        
        <!-- Success Message -->
        <div class="success-message" th:if="${message}" th:text="${message}"></div>
      </div>

      <!-- Form Progress Indicator -->
      <div class="form-progress">
        <div class="progress-step active">
          <div class="progress-circle">1</div>
          <div class="progress-label">Order Details</div>
        </div>
        <div class="progress-step">
          <div class="progress-circle">2</div>
          <div class="progress-label">Specifications</div>
        </div>
        <div class="progress-step">
          <div class="progress-circle">3</div>
          <div class="progress-label">Production</div>
        </div>
        <div class="progress-step">
          <div class="progress-circle">4</div>
          <div class="progress-label">Review</div>
        </div>
      </div>

      <!-- Enhanced Form Container -->
      <div class="form-container">
        <form action="/order" method="post" enctype="multipart/form-data" th:object="${order}" id="orderForm">
          
          <!-- Section 1: Basic Order Information -->
          <div class="form-section">
            <h3 class="form-section-title">
              <i class="fas fa-info-circle"></i>
              Basic Order Information
            </h3>
            
            <div class="form-row">
              <div class="form-column">
                <div class="form-group">
                  <label for="routeCardNo">Route Card Number</label>
                  <input type="text" id="routeCardNo" name="routeCardNo" placeholder="Enter route card number"  th:value="${routeCard}">
                  <div class="error-message">Please enter a valid route card number</div>
                </div>
                
                <div class="form-group">
                  <label for="date">Order Date</label>
                  <input type="date" id="date" name="date">
                  <div class="error-message">Please select a valid date</div>
                </div>
                
               <div class="form-group">
    <label for="componentName" class="tooltip" data-tooltip="Select or enter the component name">
        Component Name
    </label>
    <input type="text" id="componentName" name="componentName" list="componentList"
           placeholder="Select or enter component name" required>
    <datalist id="componentList"></datalist>
    <div class="error-message">Component name is required</div>
</div>

                
                <div class="form-group">
                  <label for="workOrderNo" class="required">Work Order Number</label>
                  <input type="text" id="workOrderNo" name="workOrderNo" placeholder="Enter work order number" required>
                  <div class="error-message">Work order number is required</div>
                </div>
              </div>

              <div class="form-column">
                <div class="form-group">
                  <label for="customerName" class="required">Customer Name</label>
                  <input type="text" id="customerName" name="customerName" placeholder="Enter customer name" required>
                  <div class="error-message">Customer name is required</div>
                </div>
                
                <div class="form-group">
                  <label for="customerNo" class="required">Customer Number</label>
                  <input type="text" id="customerNo" name="customerNo" placeholder="Enter customer number" required>
                  <div class="error-message">Customer number is required</div>
                </div>
                
                <div class="form-group">
                  <label for="enquiryNo" class="required">Enquiry Number</label>
                  <input type="text" id="enquiryNo" name="enquiryNo" placeholder="Enter enquiry number" required>
                  <div class="error-message">Enquiry number is required</div>
                </div>
                
                <div class="form-group">
                  <label for="quotationNo" class="required">Quotation Number</label>
                  <input type="text" id="quotationNo" name="quotationNo" placeholder="Enter quotation number" required>
                  <div class="error-message">Quotation number is required</div>
                </div>
              </div>

              <div class="form-column">
                <div class="form-group">
                  <label for="purchaseOrder" class="required">Purchase Order</label>
                  <input type="text" id="purchaseOrder" name="purchaseOrder" placeholder="Enter purchase order" required>
                  <div class="error-message">Purchase order is required</div>
                </div>
                
                <div class="form-group">
                  <label for="formulationNo" class="required">Formulation Number</label>
                  <input type="text" id="formulationNo" name="formulationNo" placeholder="Enter formulation number" required>
                  <div class="error-message">Formulation number is required</div>
                </div>
                
                <div class="form-group">
                  <label for="plannedQty" class="required">Planned Quantity</label>
                  <input type="number" id="plannedQty" name="plannedQty" placeholder="Enter planned quantity" min="1" required>
                  <div class="error-message">Please enter a valid quantity</div>
                </div>
                
                <div class="form-group">
                  <label for="responsiblePerson" class="required">Responsible Person</label>
                  <input type="text" id="responsiblePerson" name="responsiblePerson" placeholder="Enter responsible person name" required>
                  <div class="error-message">Responsible person is required</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Section 2: Technical Specifications -->
          <div class="form-section">
            <h3 class="form-section-title">
              <i class="fas fa-cogs"></i>
              Technical Specifications
            </h3>
            
            <div class="form-row">
              <div class="form-column">
                <div class="form-group">
                  <label for="method" class="tooltip" data-tooltip="Select the manufacturing method">Method</label>
                  <input type="text" id="method" name="method" list="methodList" placeholder="Select or enter method" required>
                  <datalist id="methodList">
                    <option value="Injection Molding">
                    <option value="Extrusion">
                    <option value="Blow Molding">
                    <option value="Compression Molding">
                    <option value="Thermoforming">
                  </datalist>
                  <div class="error-message">Please select a method</div>
                </div>
                
                <div class="form-group">
                  <label for="material">Material Type</label>
                  <input type="text" id="material" name="material" list="materialList" placeholder="Select or enter material" required>
                  <datalist id="materialList">
                    <option value="PVC">
                    <option value="HDPE">
                    <option value="LDPE">
                    <option value="PP">
                    <option value="ABS">
                    <option value="PC">
                    <option value="PMMA">
                  </datalist>
                  <div class="error-message">Please select a material</div>
                </div>
                
                <div class="form-group">
                  <label for="toolDieNo" class="required">Tool/Die Number</label>
                  <input type="text" id="toolDieNo" name="toolDieNo" placeholder="Enter tool/die number" required>
                  <div class="error-message">Tool/Die number is required</div>
                </div>
                
                <div class="form-group">
                  <label for="weightPerMeter" class="required">Weight per Meter (kg)</label>
                  <input type="number" id="weightPerMeter" name="weightPerMeter" placeholder="Enter weight per meter" step="0.01" min="0" required>
                  <div class="error-message">Please enter a valid weight</div>
                </div>
              </div>

              <div class="form-column">
                <div class="form-group">
                  <label for="temperature" class="required">Temperature (°C)</label>
                  <input type="number" id="temperature" name="temperature" placeholder="Enter temperature" min="0" max="500" required>
                  <div class="error-message">Please enter a valid temperature</div>
                </div>
                
                <div class="form-group">
                  <label for="extruderRpm" class="required">Extruder RPM</label>
                  <input type="number" id="extruderRpm" name="extruderRpm" placeholder="Enter extruder RPM" min="1" required>
                  <div class="error-message">Please enter a valid RPM</div>
                </div>
                
                <div class="form-group">
                  <label for="conveyorRpm" class="required">Conveyor RPM</label>
                  <input type="number" id="conveyorRpm" name="conveyorRpm" placeholder="Enter conveyor RPM" min="1" required>
                  <div class="error-message">Please enter a valid RPM</div>
                </div>
                
                <div class="form-group">
                  <label for="noOfCavity" class="required">Number of Cavities</label>
                  <input type="number" id="noOfCavity" name="noOfCavity" placeholder="Enter number of cavities" min="1" required>
                  <div class="error-message">Please enter a valid number</div>
                </div>
              </div>

              <div class="form-column">
                <div class="form-group">
                  <label>Coating Required</label>
                  <div class="radio-group">
                    <label>
                      <input type="radio" name="coating" value="yes" required>
                      <span>Yes</span>
                    </label>
                    <label>
                      <input type="radio" name="coating" value="no" required>
                      <span>No</span>
                    </label>
                  </div>
                  <div class="error-message">Please select coating option</div>
                </div>

                <div class="form-group">
                  <label>New Tool Status</label>
                  <div class="radio-group">
                    <label>
                      <input type="radio" name="toolStatus" value="ready">
                      <span>Ready</span>
                    </label>
                    <label>
                      <input type="radio" name="toolStatus" value="not">
                      <span>Not Ready</span>
                    </label>
                  </div>
                </div>
                
                <div class="form-group">
                  <label for="toolMaker">Tool Maker</label>
                  <input type="text" id="toolMaker" name="toolMaker" placeholder="Enter tool maker name">
                </div>
                
                <div class="form-group">
                  <label for="eta">Estimated Time of Arrival</label>
                  <input type="date" id="eta" name="eta">
                </div>
              </div>
            </div>
          </div>

          <!-- Section 3: File Upload -->
          <div class="form-section">
            <h3 class="form-section-title">
              <i class="fas fa-upload"></i>
              Documentation
            </h3>
            
            <div class="form-row">
              <div class="form-column">
                <div class="form-group">
                  <label for="imageFile" class="required">Upload Technical Drawing/Image</label>
                  <input type="file" id="imageFile" name="imageFile" accept="image/*,.pdf,.dwg,.dxf" required>
                  <div class="error-message">Please upload a valid file</div>
                  <small style="color: var(--text-secondary); font-size: 12px; margin-top: 4px; display: block;">
                    Supported formats: JPG, PNG, PDF, DWG, DXF (Max size: 10MB)
                  </small>
                </div>
              </div>
            </div>
          </div>

          <!-- Enhanced Button Group -->
          <div class="button-group">
            <button type="submit" formaction="/orders-draft" formmethod="post" class="btn btn-draft">
              <i class="fas fa-save"></i>
              Save as Draft
            </button>
            
            <button type="submit" class="btn btn-submit">
              <i class="fas fa-paper-plane"></i>
              Submit Order
            </button>

            
            <a href="/export-order-log" class="btn">
              <i class="fas fa-download"></i>
              Download Report
            </a>
            
            <a href="/dashboard" class="btn">
              <i class="fas fa-home"></i>
              Back to Dashboard
            </a>
          </div>
        </form>
      </div>
    </main>
  </div>

  <!-- Enhanced JavaScript -->
<script>
// Load CSV and fill datalist
fetch('unique_product_names.csv') // Make sure the file is in your static folder
    .then(response => response.text())
    .then(csvText => {
        const lines = csvText.split("\n").map(line => line.trim()).filter(Boolean);
        const datalist = document.getElementById('componentList');
        datalist.innerHTML = ''; // clear any old data
        lines.forEach((name, index) => {
            if (index > 0 && name) { // skip header row
                const option = document.createElement('option');
                option.value = name;
                datalist.appendChild(option);
            }
        });
    })
    .catch(err => console.error('Error loading CSV:', err));
</script>
  
</body>
</html>
 

